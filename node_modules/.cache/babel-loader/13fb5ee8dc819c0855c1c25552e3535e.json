{"ast":null,"code":"import axios from \"axios\";\nimport { toast } from \"react-toastify\";\nexport const addItemToCart = async _ref => {\n  let {\n    auth,\n    itemDetails,\n    dispatchCart\n  } = _ref;\n\n  try {\n    console.log(\"working till here\");\n    const response = await axios({\n      url: \"/api/user/cart\",\n      method: \"post\",\n      headers: {\n        authorization: auth.token\n      },\n      data: {\n        product: itemDetails\n      }\n    });\n    console.log(\"working till here\");\n    dispatchCart({\n      type: \"ADD-TO-CART\",\n      payload: response.data.cart\n    });\n    toast.success(\"Item Added to Cart\");\n  } catch (error) {\n    console.log(\"Add Item to Cart Error\", error);\n    toast.error(\"Error to add Item in Cart\");\n  }\n};\nexport const removeItemFromCart = async _ref2 => {\n  let {\n    auth,\n    itemId,\n    dispatchCart\n  } = _ref2;\n\n  try {\n    const response = await axios.delete(`/api/user/cart/${itemId}`, {\n      headers: {\n        authorization: auth.token\n      }\n    });\n    dispatchCart({\n      type: \"REMOVE-FROM-CART\",\n      payload: response.data.cart\n    });\n    toast.success(\"Item Removed from Cart\");\n  } catch (error) {\n    console.log(\"Remove Item from Cart Error\", error);\n    toast.error(\"Error to remove Item from Cart\");\n  }\n}; //clears cart after payment.\n\nexport const clearCart = async _ref3 => {\n  let {\n    auth,\n    dispatchCart\n  } = _ref3;\n\n  try {\n    await axios.delete(`/api/user/clearCart`, {\n      headers: {\n        authorization: auth.token\n      }\n    });\n    dispatchCart({\n      type: \"CLEAR-CART\"\n    });\n  } catch (error) {\n    console.log(\"Clear Cart Error\", error);\n    toast.error(\"Error to Clear Cart\");\n  }\n};","map":{"version":3,"sources":["F:/testcase3/final1/AgroStores-react-dev/src/services/cartServices.js"],"names":["axios","toast","addItemToCart","auth","itemDetails","dispatchCart","console","log","response","url","method","headers","authorization","token","data","product","type","payload","cart","success","error","removeItemFromCart","itemId","delete","clearCart"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,OAAO,MAAMC,aAAa,GAAG,cAA+C;AAAA,MAAxC;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,WAAR;AAAqBC,IAAAA;AAArB,GAAwC;;AAC1E,MAAI;AACFC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,UAAMC,QAAQ,GAAG,MAAMR,KAAK,CAAC;AAC3BS,MAAAA,GAAG,EAAE,gBADsB;AAE3BC,MAAAA,MAAM,EAAE,MAFmB;AAG3BC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAET,IAAI,CAACU;AADb,OAHkB;AAM3BC,MAAAA,IAAI,EAAE;AACJC,QAAAA,OAAO,EAAEX;AADL;AANqB,KAAD,CAA5B;AAWAE,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACAF,IAAAA,YAAY,CAAC;AACXW,MAAAA,IAAI,EAAE,aADK;AAEXC,MAAAA,OAAO,EAAET,QAAQ,CAACM,IAAT,CAAcI;AAFZ,KAAD,CAAZ;AAIAjB,IAAAA,KAAK,CAACkB,OAAN,CAAc,oBAAd;AACD,GAnBD,CAmBE,OAAOC,KAAP,EAAc;AACdd,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCa,KAAtC;AACAnB,IAAAA,KAAK,CAACmB,KAAN,CAAY,2BAAZ;AACD;AACF,CAxBM;AA0BP,OAAO,MAAMC,kBAAkB,GAAG,eAA0C;AAAA,MAAnC;AAAElB,IAAAA,IAAF;AAAQmB,IAAAA,MAAR;AAAgBjB,IAAAA;AAAhB,GAAmC;;AAC1E,MAAI;AACF,UAAMG,QAAQ,GAAG,MAAMR,KAAK,CAACuB,MAAN,CAAc,kBAAiBD,MAAO,EAAtC,EAAyC;AAC9DX,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAET,IAAI,CAACU;AAAtB;AADqD,KAAzC,CAAvB;AAIAR,IAAAA,YAAY,CAAC;AACXW,MAAAA,IAAI,EAAE,kBADK;AAEXC,MAAAA,OAAO,EAAET,QAAQ,CAACM,IAAT,CAAcI;AAFZ,KAAD,CAAZ;AAIAjB,IAAAA,KAAK,CAACkB,OAAN,CAAc,wBAAd;AACD,GAVD,CAUE,OAAOC,KAAP,EAAc;AACdd,IAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2Ca,KAA3C;AACAnB,IAAAA,KAAK,CAACmB,KAAN,CAAY,gCAAZ;AACD;AACF,CAfM,C,CAgBP;;AACA,OAAO,MAAMI,SAAS,GAAG,eAAkC;AAAA,MAA3B;AAAErB,IAAAA,IAAF;AAAQE,IAAAA;AAAR,GAA2B;;AACzD,MAAI;AACF,UAAML,KAAK,CAACuB,MAAN,CAAc,qBAAd,EAAoC;AACxCZ,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAET,IAAI,CAACU;AAAtB;AAD+B,KAApC,CAAN;AAGAR,IAAAA,YAAY,CAAC;AAAEW,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAZ;AACD,GALD,CAKE,OAAOI,KAAP,EAAc;AACdd,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCa,KAAhC;AACAnB,IAAAA,KAAK,CAACmB,KAAN,CAAY,qBAAZ;AACD;AACF,CAVM","sourcesContent":["import axios from \"axios\";\nimport { toast } from \"react-toastify\";\n\nexport const addItemToCart = async ({ auth, itemDetails, dispatchCart }) => {\n  try {\n    console.log(\"working till here\");\n    const response = await axios({\n      url: \"/api/user/cart\",\n      method: \"post\",\n      headers: {\n        authorization: auth.token,\n      },\n      data: {\n        product: itemDetails,\n      },\n    });\n\n    console.log(\"working till here\");\n    dispatchCart({\n      type: \"ADD-TO-CART\",\n      payload: response.data.cart,\n    });\n    toast.success(\"Item Added to Cart\");\n  } catch (error) {\n    console.log(\"Add Item to Cart Error\", error);\n    toast.error(\"Error to add Item in Cart\");\n  }\n};\n\nexport const removeItemFromCart = async ({ auth, itemId, dispatchCart }) => {\n  try {\n    const response = await axios.delete(`/api/user/cart/${itemId}`, {\n      headers: { authorization: auth.token },\n    });\n\n    dispatchCart({\n      type: \"REMOVE-FROM-CART\",\n      payload: response.data.cart,\n    });\n    toast.success(\"Item Removed from Cart\");\n  } catch (error) {\n    console.log(\"Remove Item from Cart Error\", error);\n    toast.error(\"Error to remove Item from Cart\");\n  }\n};\n//clears cart after payment.\nexport const clearCart = async ({ auth, dispatchCart }) => {\n  try {\n    await axios.delete(`/api/user/clearCart`, {\n      headers: { authorization: auth.token },\n    });\n    dispatchCart({ type: \"CLEAR-CART\" });\n  } catch (error) {\n    console.log(\"Clear Cart Error\", error);\n    toast.error(\"Error to Clear Cart\");\n  }\n};\n"]},"metadata":{},"sourceType":"module"}