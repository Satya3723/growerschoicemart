{"ast":null,"code":"var _jsxFileName = \"F:\\\\testcase3\\\\final1\\\\growerschoicemart\\\\src\\\\pages\\\\Signup.js\",\n    _s = $RefreshSig$();\n\nimport { Navbar, Footer } from \"../components/allComponents\";\nimport { Link } from \"react-router-dom\";\nimport \"../styles/pages/signup.css\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../context/auth-context\";\nimport { useState, useRef } from \"react\";\nimport fs from \"fs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Signup = () => {\n  _s();\n\n  const {\n    auth,\n    setAuth\n  } = useAuth();\n  const navigate = useNavigate(); // Used to Show/Hide Passwords\n\n  const [passwordType, setPasswordType] = useState({\n    password: \"password\",\n    confirmPassword: \"password\"\n  });\n  const editSignupForm = useRef(null);\n\n  const handleSignupForm = e => {\n    e.preventDefault();\n    const form = editSignupForm.current;\n\n    if (form[\"passwordField\"].value === form[\"confirmPasswordField\"].value) {\n      signUpHandler({\n        firstName: form[\"firstName\"].value,\n        lastName: form[\"lastName\"].value,\n        email: form[\"emailId\"].value,\n        password: form[\"passwordField\"].value\n      });\n      editSignupForm.current.reset();\n    } else {\n      toast.error(\"Passwords Do Not Match!!\");\n    }\n  };\n\n  const signUpHandler = async signUpData => {\n    try {\n      const response = await axios.post(`/api/auth/signup`, signUpData); // saving the encodedToken in the localStorage\n\n      saveUserDetails(signUpData);\n      localStorage.setItem(\"token\", response.data.encodedToken);\n      localStorage.setItem(\"userData\", JSON.stringify(response.data.createdUser));\n      setAuth({ ...auth,\n        token: response.data.encodedToken,\n        isLoggedIn: true\n      });\n      toast.success(\"Sign up Successful!!\");\n      navigate(\"/products\");\n    } catch (error) {\n      console.log(\"Signup Error\", error);\n      toast.error(\"Server Error, Unable to Signup\", error);\n    }\n  };\n\n  const saveUserDetails = userData => {\n    try {\n      const existingUserData = fs.readFileSync(\"users.js\", \"utf-8\");\n      const users = JSON.parse(existingUserData);\n      users.push(userData);\n      fs.writeFileSync(\"users.js\", JSON.stringify(users, null, 2), \"utf-8\");\n    } catch (error) {\n      console.error(\"Error saving user details:\", error);\n    }\n  };\n\n  const fillDummyData = e => {\n    e.preventDefault();\n    const form = editSignupForm.current;\n    form[\"firstName\"].value = \"Satya\";\n    form[\"lastName\"].value = \"Likhith\";\n    form[\"emailId\"].value = \"satya@gmail.com\";\n    form[\"passwordField\"].value = \"ramMishra@123\";\n    form[\"confirmPasswordField\"].value = \"ramMishra@123\";\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      ref: editSignupForm,\n      className: \"signup-container flex-column-center mg-top-sm mg-bottom-sm\",\n      onSubmit: handleSignupForm,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signup-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center mg-xsm\",\n          children: \"Signup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-solid btn-fill-dummy-data\",\n          onClick: e => fillDummyData(e),\n          children: \"Fill Dummy Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"full-name-item flex-column mg-xsm fw-bold\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"full-name\",\n            className: \"mg-bottom-xsm\",\n            children: \"First Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"firstName\",\n            className: \"mg-bottom-xsm\",\n            id: \"first-name\",\n            placeholder: \"First Name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"full-name-item flex-column mg-xsm fw-bold\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"full-name\",\n            className: \"mg-bottom-xsm\",\n            children: \"Last Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"lastName\",\n            className: \"mg-bottom-xsm\",\n            id: \"last-name\",\n            placeholder: \"Last Name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"email-id-item mg-xsm flex-column fw-bold\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email-id\",\n            className: \"mg-bottom-xsm\",\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            pattern: \"^([a-zA-Z0-9_\\\\-\\\\.]+)@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.)|(([a-zA-Z0-9\\\\-]+\\\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\\\]?)$\",\n            id: \"email-id\",\n            name: \"emailId\",\n            className: \"mg-bottom-xsm\",\n            placeholder: \"ram.mishra@gmail.com\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"password-item mg-xsm flex-column fw-bold\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            className: \"mg-bottom-xsm\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: passwordType.password,\n            id: \"password\",\n            name: \"passwordField\",\n            className: \"mg-bottom-xsm\",\n            minLength: \"8\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"material-icons signup-pwd-show-icon\",\n            onClick: () => setPasswordType(passwordType => passwordType.password === \"password\" ? { ...passwordType,\n              password: \"text\"\n            } : { ...passwordType,\n              password: \"password\"\n            }),\n            children: passwordType.password === \"password\" ? \"visibility\" : \"visibility_off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confirm-password-item mg-xsm flex-column fw-bold\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"confirm-password\",\n            className: \"mg-bottom-xsm\",\n            children: \"Confirm Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: passwordType.confirmPassword,\n            name: \"confirmPasswordField\",\n            id: \"confirm-password\",\n            className: \"mg-bottom-xsm\",\n            minLength: \"8\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"material-icons signup-pwd-show-icon\",\n            onClick: () => setPasswordType(passwordType => passwordType.confirmPassword === \"password\" ? { ...passwordType,\n              confirmPassword: \"text\"\n            } : { ...passwordType,\n              confirmPassword: \"password\"\n            }),\n            children: passwordType.confirmPassword === \"password\" ? \"visibility\" : \"visibility_off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"terms-item mg-xsm fw-bold align-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            className: \"mg-xsm\",\n            name: \"termsTick\",\n            id: \"terms\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"terms\",\n            children: \"I accept all Terms & Conditions*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          href: \"\",\n          className: \"btn btn-solid btn-create-account fw-bold\",\n          children: \"Create New Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          className: \"btn btn-outline-icon btn-signin fw-bold\",\n          children: [\"Already have an account?\", /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"material-icons\",\n            children: \"chevron_right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Signup, \"S+VD9O11mXhjR6g14d1tM5ihgkQ=\", false, function () {\n  return [useAuth, useNavigate];\n});\n\n_c = Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["F:/testcase3/final1/growerschoicemart/src/pages/Signup.js"],"names":["Navbar","Footer","Link","toast","axios","useNavigate","useAuth","useState","useRef","fs","Signup","auth","setAuth","navigate","passwordType","setPasswordType","password","confirmPassword","editSignupForm","handleSignupForm","e","preventDefault","form","current","value","signUpHandler","firstName","lastName","email","reset","error","signUpData","response","post","saveUserDetails","localStorage","setItem","data","encodedToken","JSON","stringify","createdUser","token","isLoggedIn","success","console","log","userData","existingUserData","readFileSync","users","parse","push","writeFileSync","fillDummyData"],"mappings":"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","sourcesContent":["import { Navbar, Footer } from \"../components/allComponents\";\nimport { Link } from \"react-router-dom\";\nimport \"../styles/pages/signup.css\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../context/auth-context\";\nimport { useState, useRef } from \"react\";\nimport fs from \"fs\";\n\nexport const Signup = () => {\n  const { auth, setAuth } = useAuth();\n  const navigate = useNavigate();\n  // Used to Show/Hide Passwords\n  const [passwordType, setPasswordType] = useState({\n    password: \"password\",\n    confirmPassword: \"password\",\n  });\n\n  const editSignupForm = useRef(null);\n  const handleSignupForm = (e) => {\n    e.preventDefault();\n    const form = editSignupForm.current;\n    if (form[\"passwordField\"].value === form[\"confirmPasswordField\"].value) {\n      signUpHandler({\n        firstName: form[\"firstName\"].value,\n        lastName: form[\"lastName\"].value,\n        email: form[\"emailId\"].value,\n        password: form[\"passwordField\"].value,\n      });\n      editSignupForm.current.reset();\n    } else {\n      toast.error(\"Passwords Do Not Match!!\");\n    }\n  };\n  const signUpHandler = async (signUpData) => {\n    try {\n      const response = await axios.post(`/api/auth/signup`, signUpData);\n      // saving the encodedToken in the localStorage\n\n      saveUserDetails(signUpData);\n      localStorage.setItem(\"token\", response.data.encodedToken);\n      localStorage.setItem(\n        \"userData\",\n        JSON.stringify(response.data.createdUser)\n      );\n      setAuth({\n        ...auth,\n        token: response.data.encodedToken,\n        isLoggedIn: true,\n      });\n      toast.success(\"Sign up Successful!!\");\n      navigate(\"/products\");\n    } catch (error) {\n      console.log(\"Signup Error\", error);\n      toast.error(\"Server Error, Unable to Signup\", error);\n    }\n  };\n  const saveUserDetails = (userData) => {\n    try {\n      const existingUserData = fs.readFileSync(\"users.js\", \"utf-8\");\n      const users = JSON.parse(existingUserData);\n      users.push(userData);\n      fs.writeFileSync(\"users.js\", JSON.stringify(users, null, 2), \"utf-8\");\n    } catch (error) {\n      console.error(\"Error saving user details:\", error);\n    }\n  };\n  const fillDummyData = (e) => {\n    e.preventDefault();\n    const form = editSignupForm.current;\n    form[\"firstName\"].value = \"Satya\";\n    form[\"lastName\"].value = \"Likhith\";\n    form[\"emailId\"].value = \"satya@gmail.com\";\n    form[\"passwordField\"].value = \"ramMishra@123\";\n    form[\"confirmPasswordField\"].value = \"ramMishra@123\";\n  };\n\n  return (\n    <>\n      <Navbar />\n      {/* Main Container */}\n      <form\n        ref={editSignupForm}\n        className=\"signup-container flex-column-center mg-top-sm mg-bottom-sm\"\n        onSubmit={handleSignupForm}\n      >\n        <div className=\"signup-card\">\n          {/* Heading */}\n          <h2 className=\"text-center mg-xsm\">Signup</h2>\n          <button\n            className=\"btn btn-solid btn-fill-dummy-data\"\n            onClick={(e) => fillDummyData(e)}\n          >\n            Fill Dummy Data\n          </button>\n          {/* First-Name */}\n          <div className=\"full-name-item flex-column mg-xsm fw-bold\">\n            <label htmlFor=\"full-name\" className=\"mg-bottom-xsm\">\n              First Name\n            </label>\n            <input\n              type=\"text\"\n              name=\"firstName\"\n              className=\"mg-bottom-xsm\"\n              id=\"first-name\"\n              placeholder=\"First Name\"\n              required\n            />\n          </div>\n          {/* Last-Name */}\n          <div className=\"full-name-item flex-column mg-xsm fw-bold\">\n            <label htmlFor=\"full-name\" className=\"mg-bottom-xsm\">\n              Last Name\n            </label>\n            <input\n              type=\"text\"\n              name=\"lastName\"\n              className=\"mg-bottom-xsm\"\n              id=\"last-name\"\n              placeholder=\"Last Name\"\n              required\n            />\n          </div>\n          {/* Email-id */}\n          <div className=\"email-id-item mg-xsm flex-column fw-bold\">\n            <label htmlFor=\"email-id\" className=\"mg-bottom-xsm\">\n              Email address\n            </label>\n            <input\n              type=\"email\"\n              pattern=\"^([a-zA-Z0-9_\\-\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([a-zA-Z0-9\\-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?)$\"\n              id=\"email-id\"\n              name=\"emailId\"\n              className=\"mg-bottom-xsm\"\n              placeholder=\"ram.mishra@gmail.com\"\n              required\n            />\n          </div>\n          {/* <!-- Password --> */}\n          <div className=\"password-item mg-xsm flex-column fw-bold\">\n            <label htmlFor=\"password\" className=\"mg-bottom-xsm\">\n              Password\n            </label>\n            <input\n              type={passwordType.password}\n              id=\"password\"\n              name=\"passwordField\"\n              className=\"mg-bottom-xsm\"\n              minLength=\"8\"\n              required\n            />\n            <i\n              className=\"material-icons signup-pwd-show-icon\"\n              onClick={() =>\n                setPasswordType((passwordType) =>\n                  passwordType.password === \"password\"\n                    ? { ...passwordType, password: \"text\" }\n                    : { ...passwordType, password: \"password\" }\n                )\n              }\n            >\n              {passwordType.password === \"password\"\n                ? \"visibility\"\n                : \"visibility_off\"}\n            </i>\n          </div>\n          {/* Confirm Password */}\n          <div className=\"confirm-password-item mg-xsm flex-column fw-bold\">\n            <label htmlFor=\"confirm-password\" className=\"mg-bottom-xsm\">\n              Confirm Password\n            </label>\n            <input\n              type={passwordType.confirmPassword}\n              name=\"confirmPasswordField\"\n              id=\"confirm-password\"\n              className=\"mg-bottom-xsm\"\n              minLength=\"8\"\n              required\n            />\n            <i\n              className=\"material-icons signup-pwd-show-icon\"\n              onClick={() =>\n                setPasswordType((passwordType) =>\n                  passwordType.confirmPassword === \"password\"\n                    ? { ...passwordType, confirmPassword: \"text\" }\n                    : { ...passwordType, confirmPassword: \"password\" }\n                )\n              }\n            >\n              {passwordType.confirmPassword === \"password\"\n                ? \"visibility\"\n                : \"visibility_off\"}\n            </i>\n          </div>\n          {/* Terms & Condition */}\n          <div className=\"terms-item mg-xsm fw-bold align-center\">\n            <input\n              type=\"checkbox\"\n              className=\"mg-xsm\"\n              name=\"termsTick\"\n              id=\"terms\"\n              required\n            />\n            <label htmlFor=\"terms\">I accept all Terms & Conditions*</label>\n          </div>\n          {/* Buttons */}\n\n          <button\n            type=\"submit\"\n            href=\"\"\n            className=\"btn btn-solid btn-create-account fw-bold\"\n          >\n            Create New Account\n          </button>\n          <Link to=\"/login\" className=\"btn btn-outline-icon btn-signin fw-bold\">\n            Already have an account?\n            <i className=\"material-icons\">chevron_right</i>\n          </Link>\n        </div>\n      </form>\n      <Footer />\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}